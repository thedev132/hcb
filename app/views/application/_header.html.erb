<header class="header">
  <div class="header-left line-height-0 flex items-center justify-end">
    <action
      role="button"
      data-behavior="toggle_theme"
      class="muted pointer no-select tooltipped tooltipped--s"
      aria-label="Toggle dark mode"
      tabindex="0">
      <%= inline_icon 'moon', size: home_action_size %>
      <%= inline_icon 'moon-fill', size: home_action_size, style: 'display: none;' %>
    </action>
    <%= link_to 'https://changelog.bank.hackclub.com',
      class: 'muted tooltipped tooltipped--s ml2',
      'aria-label': 'See what’s new in Bank' do %>
      <%= inline_icon 'rep', size: home_action_size %>
    <% end if signed_in? %>
  </div>

  <%= link_to root_path,
    class: "header-center text-decoration-none flex items-center #{Rails.env.development? && 'tooltipped tooltipped--s'}",
    'aria-label': "You’re in development mode. #{development_mode_flavor}" do %>
    <% if @event and not @event.partner_logo_url.blank? %>
      <div class="partner-logo ml2">
        <%= image_tag @event.partner_logo_url,
            name: 'partner-logo',
            height: home_action_size,
            alt: 'Partner logo',
            style: 'box-sizing: border-box; padding: 5px;' %>
      </div>
    <% end %>
    <%= image_tag "logo#{'-alt-1' if Rails.env.development?}-dark.svg",
        name: 'header-logo',
        class: 'logo-dark',
        width: @home_size || 36,
        height: @home_size || 36,
        alt: 'Bank logo' %>
    <%= image_tag "logo#{'-alt-1' if Rails.env.development?}.svg",
        name: 'header-logo',
        class: 'logo',
        width: @home_size || 36,
        height: @home_size || 36,
        alt: 'Bank logo' %>
  <% end %>

  <div class="header-right line-height-0 flex items-center">
    <% if signed_in? %>
      <%= link_to my_inbox_path,
        class: 'muted tooltipped tooltipped--s mr2',
        'aria-label': 'Inbox' do %>
        <%= inline_icon 'notification', size: home_action_size %>
      <% end %>
      <%= link_to logout_users_path, method: :delete,
          class: 'muted tooltipped tooltipped--s',
          'aria-label': 'Sign out' do %>
          <%= inline_icon 'door-leave', size: home_action_size %>
      <% end %>
    <% else %>
      <%= link_to auth_users_path,
          class: 'muted tooltipped tooltipped--s',
          'aria-label': 'Sign in' do %>
          <%= inline_icon 'door-enter', size: home_action_size %>
      <% end %>
    <% end %>
  </div>
</header>
